```
┌─────────────────────────────────────────────────────────┐
│                    CLIENT (View)                        │
│                   client/*.html, *.js                   │
└─────────────────────┬───────────────────────────────────┘
                      │ HTTP Requests
                      ▼
┌─────────────────────────────────────────────────────────┐
│              HANDLERS (Controller)                      │
│              handlers/replay.go                         │
│         • Парсинг HTTP запросов                         │
│         • Вызов методов сервисов                        │
│         • Формирование HTTP ответов                     │
└─────────────────────┬───────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────┐
│              SERVICES (Business Logic)                  │
│         services/game_service.go                        │
│         services/replay_service.go                      │
│         • Вся бизнес-логика                             │
│         • Координация repository + storage              │
│         • Транзакции и откаты                           │
└─────────┬───────────────────────────┬───────────────────┘
          │                           │
          ▼                           ▼
┌──────────────────────┐    ┌──────────────────────┐
│   REPOSITORY         │    │   STORAGE            │
│   repository/        │    │   storage/           │
│   • game_repo.go     │    │   • file_storage.go  │
│   • replay_repo.go   │    │                      │
│   • Только SQL       │    │   • Только файлы     │
└──────────┬───────────┘    └──────────┬───────────┘
           │                           │
           ▼                           ▼
    ┌──────────┐              ┌──────────────┐
    │PostgreSQL│              │File System   │
    └──────────┘              └──────────────┘
```
